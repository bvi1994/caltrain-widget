(this["webpackJsonpcaltrain-widget"]=this["webpackJsonpcaltrain-widget"]||[]).push([[0],{33:function(t,e,n){t.exports=n(92)},38:function(t,e,n){},39:function(t,e,n){},77:function(t,e,n){},78:function(t,e,n){},91:function(t,e,n){},92:function(t,e,n){"use strict";n.r(e);var a=n(0),i=n.n(a),r=n(8),o=n.n(r),s=(n(38),n(3)),c=n(4),u=n(6),l=n(5),d=n(7),p=(n(39),n(16)),m=n(1),h=n.n(m),f=n(11),g=n.n(f),v=n(32),b=function(t){function e(){return Object(s.a)(this,e),Object(u.a)(this,Object(l.a)(e).apply(this,arguments))}return Object(d.a)(e,t),Object(c.a)(e,[{key:"render",value:function(){var t=this.props,e=t.stationList,n=(t.originOrDestination,t.changeStation);return i.a.createElement(v.a,{options:e,onChange:n})}}]),e}(a.Component),S=n(31),w=n.n(S),y=(n(75),n(76),n(77),function(t){function e(){var t,n;Object(s.a)(this,e);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(n=Object(u.a)(this,(t=Object(l.a)(e)).call.apply(t,[this].concat(i)))).determineService=function(t){var e=Math.floor(t/100);return 1===e||4===e?"local":3===e||8===e?"bullet":2===e?"limited":"special"},n}return Object(d.a)(e,t),Object(c.a)(e,[{key:"render",value:function(){var t=this,e=this.props,n=e.stopTimetable,a={ref:e.reference,asNavFor:e.asNavFor,infinite:!1};return i.a.createElement(w.a,a,n.map((function(e){return i.a.createElement("div",{className:"time ".concat(t.determineService(e.trainNumber)),key:e.trainNumber},e.arriveTime||e.departTime)})))}}]),e}(a.Component)),T=(n(78),function(t){function e(t){var n;return Object(s.a)(this,e),(n=Object(u.a)(this,Object(l.a)(e).call(this,t))).determineIds=function(){var t,e,a;return h.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:if(t=n.state,e=t.originStationsInfo,a=t.destinationStationsInfo,e.sort((function(t,e){return e.id-t.id})),a.sort((function(t,e){return e.id-t.id})),!(e[0].id>a[0].id)){i.next=7;break}return i.next=6,h.a.awrap(n.setState({originStationId:e[1].id,destinationStationId:a[1].id}));case 6:return i.abrupt("return");case 7:return i.next=9,h.a.awrap(n.setState({originStationId:e[0].id,destinationStationId:a[0].id}));case 9:case"end":return i.stop()}}))},n.getStationInfo=function(t){return n.state.stationsData.filter((function(e){return e.Name===t.value}))},n.changeOriginStation=function(t){var e;return h.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return e=n.getStationInfo(t),a.next=3,h.a.awrap(n.setState({originStation:t,originStationsInfo:e}));case 3:if(!n.state.destinationStation){a.next=10;break}return a.next=6,h.a.awrap(n.determineIds());case 6:return a.next=8,h.a.awrap(n.getTimes());case 8:return a.next=10,h.a.awrap(n.matchTrips());case 10:case"end":return a.stop()}}))},n.changeDestinationStation=function(t){var e;return h.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return e=n.getStationInfo(t),a.next=3,h.a.awrap(n.setState({destinationStation:t,destinationStationsInfo:e}));case 3:if(!n.state.originStation){a.next=10;break}return a.next=6,h.a.awrap(n.determineIds());case 6:return a.next=8,h.a.awrap(n.getTimes());case 8:return a.next=10,h.a.awrap(n.matchTrips());case 10:case"end":return a.stop()}}))},n.getStationsData=function(){var t,e;return h.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,h.a.awrap(g()("http://localhost:3002/getStationsData"));case 2:t=a.sent,e=t.data.stationData,n.setState({stationsData:e});case 5:case"end":return a.stop()}}))},n.getListOfStations=function(){var t,e,a;return h.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return t=n.state.currentDay>0&&n.state.currentDay<6?"weekday":"weekend",i.next=3,h.a.awrap(g()("http://localhost:3002/".concat(t,"/getStationList")));case 3:e=i.sent,a=e.data.stationList,n.setState({stationsList:a.map((function(t){return{value:t,label:"".concat(t," station")}}))});case 6:case"end":return i.stop()}}))},n.getTimes=function(){var t,e,a,i,r,o,s,c;return h.a.async((function(u){for(;;)switch(u.prev=u.next){case 0:return t=n.state,e=t.originStationId,a=t.destinationStationId,i=n.state.currentDay>0&&n.state.currentDay<6?"weekday":"weekend",u.next=4,h.a.awrap(g()("http://localhost:3002/getDepartTimes/".concat(i,"/").concat(e)));case 4:return r=u.sent,u.next=7,h.a.awrap(g()("http://localhost:3002/getArriveTimes/".concat(i,"/").concat(a)));case 7:o=u.sent,s=r.data.scheduledTimes.map((function(t){return JSON.stringify(t)})),c=o.data.scheduledTimes.map((function(t){return JSON.stringify(t)})),n.setState({originTimes:s,destinationTimes:c});case 11:case"end":return u.stop()}}))},n.matchTrips=function(){var t=n.state,e=t.originTimes,a=t.destinationTimes;e=e.map((function(t){return JSON.parse(t)})),a=a.map((function(t){return JSON.parse(t)}));for(var i=[],r=function(t){var n=a.find((function(n){return n.trainNumber===e[t].trainNumber}));if(!n)return"continue";var r={departTime:e[t].arriveTime,arriveTime:n.arriveTime,trainNumber:n.trainNumber,departRealTime:e[t].realTime,arriveRealTime:n.realTime};i.push(r)},o=0;o<e.length;o++)r(o);return n.setState({matchedTrips:i}),i},n.state={originStation:"",originStationsInfo:[],originStationId:"",destinationStation:"",destinationStationsInfo:[],destinationStationId:"",stationsList:[],stationsData:[],originTimes:[],destinationTimes:[],matchedTrips:[],originStationSliderRef:null,destinationSliderRef:null,currentDay:(new Date).getDay()},n}return Object(d.a)(e,t),Object(c.a)(e,[{key:"componentDidMount",value:function(){return h.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h.a.awrap(this.getStationsData());case 2:return t.next=4,h.a.awrap(this.getListOfStations());case 4:return t.next=6,h.a.awrap(this.setState({originStationSliderRef:this.originSlider,destinationSliderRef:this.destinationSlider}));case 6:case"end":return t.stop()}}),null,this)}},{key:"render",value:function(){var t=this,e=this.state,n=e.stationsList,a=e.originStation,r=e.matchedTrips,o=r.map((function(t){t.arriveTime;return Object(p.a)(t,["arriveTime"])})),s=r.map((function(t){t.departTime;return Object(p.a)(t,["departTime"])}));return i.a.createElement("div",{className:"Main"},i.a.createElement(b,{stationList:n,originOrDestination:"origin",changeStation:this.changeOriginStation}),o&&i.a.createElement(y,{stopTimetable:o,asNavFor:this.state.destinationSliderRef,reference:function(e){return t.originSlider=e}}),i.a.createElement(b,{stationList:n.filter((function(t){return t!==a})),originOrDestination:"destination",changeStation:this.changeDestinationStation}),s&&i.a.createElement(y,{stopTimetable:s,asNavFor:this.state.originStationSliderRef,reference:function(e){return t.destinationSlider=e}}))}}]),e}(a.Component)),O=n(15),x=n.n(O),j=n(9),I=(n(90),n(91),function(t){function e(){return Object(s.a)(this,e),Object(u.a)(this,Object(l.a)(e).apply(this,arguments))}return Object(d.a)(e,t),Object(c.a)(e,[{key:"render",value:function(){var t=[{question:"Who create this application?",answer:"This application is created by ".concat("<a href='https://www.linkedin.com/in/bvi1994/'> Brandon Vi</a>",". Check him out and he is available for hire. ;)")},{question:"Do you have the source code for the this application? I have ways to make it better!",answer:"Great! The code can be found <a href='https://github.com/bvi1994/caltrain-widget'>here!</a> I will have a set up guide in the next version of the application."},{question:"What are some of the features you will be working on for the next version?",answer:"Real time integration with the 511.org, automatically going to the closest trip time based on current time, better code doocumentation on the README for developers, notifcation of caltrain problems, just to name a few..."},{question:"There's a bug on your application! Where do I submit bug reports?",answer:"You can send me an email to brandvi1994 [at] gmail (dot) com, describe the bug and I will get to it."},{question:"What else should I know?",answer:"This application is not developed by Caltrain. This is a free service being managed by a geek in his dwindling spare time. It\u2019s provided \u201cas-is\u201d and there are no guarantees (expressed or implied)."}];return i.a.createElement("div",{className:"dropdownFAQ"},i.a.createElement(j.a,null,t.map((function(t){return i.a.createElement(j.b,null,i.a.createElement(j.d,null,i.a.createElement(j.c,null,x()(t.question))),i.a.createElement(j.e,null,i.a.createElement("p",{align:"left"},x()(t.answer))))}))))}}]),e}(a.Component)),E=function(t){function e(){return Object(s.a)(this,e),Object(u.a)(this,Object(l.a)(e).apply(this,arguments))}return Object(d.a)(e,t),Object(c.a)(e,[{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement("div",{className:"App"},i.a.createElement(T,null)),i.a.createElement("center",{className:"Disclaimer"},"This application is NOT run by Caltrain or any of its affliates or contractors. Created by ",i.a.createElement("a",{href:"https://www.linkedin.com/in/bvi1994/}"},"Brandon Vi")," Help me improve the application by getting the ",i.a.createElement("a",{href:"https://github.com/bvi1994/caltrain-widget"},"source code"),i.a.createElement(I,null)))}}]),e}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(i.a.createElement(E,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()}))}},[[33,1,2]]]);
//# sourceMappingURL=main.0fcaa9eb.chunk.js.map